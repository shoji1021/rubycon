<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="/R.png" />
  <title>RubyTech</title>
  <link rel="stylesheet" href="https://unpkg.com/blockly/media/blockly.min.css">
<style>
  body, html {
    margin: 0; padding: 0; height: 100%; overflow: hidden;
    font-family: 'Nunito', sans-serif;
    background: linear-gradient(135deg, #fdf6f0, #fde5e5);
  }

  /* パーティクルをまとめるラッパ */
  .particles-container {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0; left: 0;
    overflow: hidden;
    transition: transform 1s ease;
    z-index: 0;
  }

  .particle {
    position: absolute;
    width: 10px; height: 10px;
    background: rgba(255, 120, 120, 0.6);
    border-radius: 50%;
    animation: float 6s linear infinite;
  }

  /* パーティクルのふわふわアニメーション */
  @keyframes float {
    0%   { transform: translateY(100vh) scale(0.5); opacity: 0; }
    30%  { opacity: 1; }
    100% { transform: translateY(-10vh) scale(1); opacity: 0; }
  }

  .screen {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0; left: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    transition: transform 1s ease;
    z-index: 1;
  }

  .logo {
    font-size: 3em;
    font-weight: 800;
    color: #af3f3f;
    text-align: center;
  }

  .skip-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #af3f3f;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1em;
    transition: 0.2s;
    z-index: 2;
  }
  .skip-btn:hover { background: #c74958; }

  .fade-out {
    animation: fadeOut 0.5s forwards;
  }

  @keyframes fadeOut {
    0% { opacity: 1; transform: scale(1); }
    100% { opacity: 0; transform: scale(0); }
  }
</style>
</head>
<body>

<!-- パーティクルコンテナ -->
<div class="particles-container" id="particlesContainer"></div>

<div class="screen" id="introScreen">
  <div class="logo">ブロックでRubyを学ぼう</div>
  <button class="skip-btn" onclick="goToLevels()">スキップ ▶</button>
</div>

<script>
  // パーティクル生成
  const container = document.getElementById("particlesContainer");
  for (let i = 50; i < 100; i++) {
    const p = document.createElement("div");
    p.className = "particle";
    p.style.left = Math.random() * 100 + "vw";
    p.style.width = p.style.height = (Math.random() * 15 + 5) + "px";
    p.style.animationDuration = (Math.random() * 5 + 4) + "s";
    container.appendChild(p);
  }

  function goToLevels() {
    const intro = document.getElementById("introScreen");
    const particles = document.getElementById("particlesContainer");

    // 下から上にスライド
    intro.style.transform = "translateY(-100%)";
    particles.style.transform = "translateY(-100%)";

    // スキップボタンを消す
    const skipBtn = document.querySelector(".skip-btn");
    skipBtn.classList.add("fade-out");

    setTimeout(() => {
      window.location.href = "howto.html";
    }, 1000);
  }

  // 5秒後に自動遷移
  setTimeout(goToLevels, 5000);
</script>
</body>
</html>
